{"version":3,"file":"index.js","sources":["signup/templates/.templates_compiled.js","signup/templates/.partials_compiled.js","signup/templates/main.js","signup/views/SignupWorkspaceView.js","signup/router.js","signup/index.js"],"names":[],"mappings":"AAAA,OAAA,6BAAA,cAAA,SAAA,GAmCA,MAjCA,MAAA,IAAA,KAAA,QAEA,KAAA,IAAA,0BAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KAAA,MAAA,EAAA,EAAA,UAAA,EAAA,KACA,IAAA,GAAA,EAAA,GAAA,EAAA,IAOA,OAJA,IAAA,6oCACA,EAAA,EAAA,cAAA,EAAA,6BAAA,4BAAA,EAAA,EAAA,EAAA,IACA,GAAA,IAAA,KAAA,GAAA,GACA,GAAA,OAIA,KAAA,IAAA,+BAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,KAGA,KAAA,IAAA,sBAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,KAGA,KAAA,MAGA,OAAA,4BAAA,cAAA,SAAA,GCzBA,MAXA,MAAA,IAAA,KAAA,QAEA,EAAA,gBAAA,qBAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,MAGA,KAAA,MAGA,OChBA,yBACA,aACA,iCACA,4BACA,4BACA,SAAA,EAAA,EAAA,GAEA,MAAA,KCPA,OAAA,oCACA,OACA,mBACA,QACA,WACA,wCACA,YACA,0BACA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,MAAA,GAAA,KAAA,QACA,UAAA,6BAEA,SAAA,EAAA,0BAEA,QACA,oBAAA,kBAGA,aAGA,WAAA,SAAA,GACA,KAAA,OAAA,EAAA,OACA,KAAA,QAAA,GAAA,IAGA,OAAA,WACA,KAAA,MAEA,MAAA,IAAA,KAAA,KAAA,YAEA,KAAA,EAAA,8BAAA,sBAIA,eAAA,SAAA,GACA,EAAA,gBAEA,IAAA,GAAA,IAEA,IAAA,KAAA,EAAA,8BAAA,iBAAA,YAAA,CACA,GAAA,GAAA,KAAA,eAEA,MAAA,QAAA,OACA,QAAA,kBAGA,KAAA,QAAA,EAAA,SAAA,GACA,EAAA,QAAA,UACA,EAkBA,EAAA,MAAA,EAAA,OAAA,IAAA,EAAA,OAAA,iBAjBA,GAAA,IACA,KAAA,QACA,MAAA,uBACA,MAAA,IACA,UACA,IAAA,mKACA,EAAA,MACA,mKAEA,WAAA,KAEA,GAAA,iBAAA,WACA,WAAA,WACA,SAAA,KAAA,cACA,SASA,QAAA,SAAA,EAAA,GACA,GAAA,GAAA,GAAA,IACA,SAAA,EAAA,SACA,MAAA,EAAA,MACA,SAAA,EAAA,UAGA,GAAA,KAAA,GACA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,WAEA,MAAA,SAAA,EAAA,GACA,EAAA,WCtFA,OD6FA,iBC5FA,SACA,WACA,+BACA,SAAA,EAAA,EAAA,GAEA,MAAA,GAAA,OAAA,QACA,QACA,YAAA,iBAGA,WAAA,aAGA,cAAA,SAAA,GACA,EAAA,GAAA,GAEA,KAAA,SACA,KAAA,QAAA,SAGA,KAAA,QAAA,GAAA,IACA,OAAA,IAGA,EAAA,kBAAA,OAAA,KAAA,QAAA,IACA,KAAA,QAAA,cC1BA,OD+BA,gBC9BA,WACA,YACA,SAAA,EAAA,GACA,GAAA,GACA,EAAA,QAAA","sourcesContent":["define('signup/templates_compiled',['handlebars'], function(Handlebars) {\n\nthis[\"JST\"] = this[\"JST\"] || {};\n\nthis[\"JST\"][\"signup/SignupWorkspace\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); partials = this.merge(partials, Handlebars.partials); data = data || {};\n  var buffer = \"\", stack1, self=this;\n\n\n  buffer += \"<div class=\\\"signin-content validationEngineContainer\\\">\\n    <div class=\\\"signin-logo\\\" style=\\\"margin-bottom: 0;\\\"></div>\\n    <div class=\\\"section-box\\\">\\n        <div class=\\\"section-content\\\">\\n            <div class=\\\"section-row\\\">\\n                <label>Username</label>\\n                <input type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"Pick a username\\\" class=\\\"validate[required]\\\">\\n            </div>\\n            <div class=\\\"section-row\\\">\\n                <label>Email</label>\\n                <input type=\\\"text\\\" name=\\\"email\\\" placeholder=\\\"Your email\\\" class=\\\"validate[required, custom[email]]\\\">\\n            </div>\\n            <div class=\\\"section-row\\\">\\n                <label>Password</label>\\n                <input type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"Create a password\\\" class=\\\"validate[required]\\\">\\n            </div>\\n            <div class=\\\"section-row clearfix\\\" style=\\\"height: 35px; line-height: 35px;\\\">\\n                <span>Already a member?</span> <a href=\\\"login.html\\\" style=\\\"font-size: 16px;\\\">Log in</a>\\n                <a href=\\\"#\\\" class=\\\"btn-signup lm-button purple right\\\">Sign up</a>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  stack1 = self.invokePartial(partials['commons/logicmonitor/foot'], 'commons/logicmonitor/foot', depth0, helpers, partials, data);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n\nthis[\"JST\"][\"signup/partials/placeholder\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  });\n\nthis[\"JST\"][\"signup/placeholder\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  });\n\nreturn this[\"JST\"];\n\n});\n","define('signup/partials_compiled',['handlebars'], function(Handlebars) {\n\nthis[\"JST\"] = this[\"JST\"] || {};\n\nHandlebars.registerPartial(\"signup/placeholder\", Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  }));\n\nreturn this[\"JST\"];\n\n});\n","define('signup/templates/main',[\n\t'handlebars',\n\t'commons/logicmonitor/templates',\n\t'signup/templates_compiled',\n\t'signup/partials_compiled'\n], function (Handlebars, commonTemplates, templates) {\n\t// return compiled templates\n\treturn templates;\n});\n\n","define('signup/views/SignupWorkspaceView',[\n\t'core',\n\t'signup/templates',\n\t'utils',\n\t'lmmsgbox',\n\t'commons/logicmonitor/models/UserModel',\n\t'lmblockui',\n\t'jq-validationEngine-en'\n], function (LM, templates, utils, MessageBox, UserModel, BlockUI) {\n\n\treturn LM.View.extend({\n\t\tclassName: 'workspace signup-workspace',\n\n\t\ttemplate: templates['signup/SignupWorkspace'],\n\n\t\tevents: {\n\t\t\t'click .btn-signup': '_onClickSignup'\n\t\t},\n\n\t\tappEvents: {\n\t\t},\n\n\t\tinitialize: function (options) {\n\t\t\tthis.module = options.module;\n\t\t\tthis.blockUI = new BlockUI();\n\t\t},\n\n\t\trender: function () {\n\t\t\tvar module = this.module;\n\n\t\t\tthis.$el.html(this.template());\n\n\t\t\tthis.$('.validationEngineContainer').validationEngine({\n\t\t\t});\n\t\t},\n\n\t\t_onClickSignup: function (e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar that = this;\n\n\t\t\tif (this.$('.validationEngineContainer').validationEngine('validate')) {\n\t\t\t\tvar data = this.serializeForm();\n\n\t\t\t\tthis.blockUI.block({\n\t\t\t\t\tmessage: 'Signing up...'\n\t\t\t\t});\n\n\t\t\t\tthis._signup(data, function (err, authData) {\n\t\t\t\t\tthat.blockUI.unBlock();\n\t\t\t\t\tif (!err) {\n\t\t\t\t\t\tnew MessageBox({\n\t\t\t\t\t\t\ttype: 'alert',\n\t\t\t\t\t\t\ttitle: 'Sign up successfully',\n\t\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\t\tbodyData: {\n\t\t\t\t\t\t\t\tmsg: '<p style=\"line-height: 1.5\">Thanks for registering! An account activation message has been sent to the email address <strong style=\"font-size: 16px;color:red;\">' +\n\t\t\t\t\t\t\t\t\tdata.email +\n\t\t\t\t\t\t\t\t\t'</strong> The activation link will only be active for 24 hours from the time of registration.' +\n\t\t\t\t\t\t\t\t\t'<a href=\"login.html\" style=\"font-size: 16px;\">Go to log in!</a></p>',\n\t\t\t\t\t\t\t\tallowHTML: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).on('dialog:closing', function () {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tlocation.href = 'login.html';\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tMessageBox.alert( err.status + ':' + err.errmsg, 'Sign up error');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_signup: function (data, cb) {\n\t\t\tvar user = new UserModel({\n\t\t\t\tusername: data.username,\n\t\t\t\temail: data.email,\n\t\t\t\tpassword: data.password\n\t\t\t});\n\n\t\t\tuser.save(data, {\n\t\t\t\tsuccess: function (model, response) {\n\t\t\t\t\tcb(null, model.toJSON());\n\t\t\t\t},\n\t\t\t\terror: function (model, response) {\n\t\t\t\t\tcb(response);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n});\n\n","define('signup/router',[\n\t'jquery',\n\t'backbone',\n    './views/SignupWorkspaceView'\n], function ($, Backbone, SignupWorkspaceView) {\n\n\treturn Backbone.Router.extend({\n\t\troutes: {\n\t\t\t'(*module)': 'showWorkspace'\n\t\t},\n\n\t\tinitialize: function () {\n\t\t},\n\n\t\tshowWorkspace: function (module) {\n\t\t\tmodule = module || '';\n\n\t\t\tif (this.appView) {\n\t\t\t\tthis.appView.remove();\n\t\t\t}\n\n\t\t\tthis.appView = new SignupWorkspaceView({\n\t\t\t\tmodule: module\n\t\t\t});\n\n\t\t\t$('.workspace-con').append(this.appView.el);\n\t\t\tthis.appView.render();\n\t\t}\n\t});\n});\n\n","define('signup/index',[\n\t'backbone',\n\t'./router'\n], function(Backbone, Router) {\n\tnew Router();\n\tBackbone.history.start();\n});\n\n"]}