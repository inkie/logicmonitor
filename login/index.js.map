{"version":3,"file":"index.js","sources":["login/templates/.templates_compiled.js","login/templates/.partials_compiled.js","login/templates/main.js","login/views/LoginWorkspaceView.js","login/router.js","login/index.js"],"names":[],"mappings":"AAAA,OAAA,4BAAA,cAAA,SAAA,GA0CA,MAxCA,MAAA,IAAA,KAAA,QAEA,KAAA,IAAA,wBAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GAKA,QAAA,KAGA,MAAA,iOAPA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KAAA,MAAA,EAAA,EAAA,UAAA,EAAA,KACA,IAAA,GAAA,EAAA,GAAA,EAAA,IAcA,OANA,GAAA,EAAA,MAAA,KAAA,EAAA,EAAA,iBAAA,QAAA,QAAA,EAAA,KAAA,GAAA,EAAA,QAAA,EAAA,EAAA,GAAA,KAAA,KACA,GAAA,IAAA,KAAA,GAAA,GACA,GAAA,wtCACA,EAAA,EAAA,cAAA,EAAA,6BAAA,4BAAA,EAAA,EAAA,EAAA,IACA,GAAA,IAAA,KAAA,GAAA,GACA,GAAA,SAIA,KAAA,IAAA,8BAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,KAGA,KAAA,IAAA,qBAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,KAGA,KAAA,MAGA,OAAA,2BAAA,cAAA,SAAA,GChCA,MAXA,MAAA,IAAA,KAAA,QAEA,EAAA,gBAAA,oBAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,KAAA,cAAA,EAAA,YACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,KACA,IAAA,GAAA,EAGA,OAAA,MAGA,KAAA,MAGA,OChBA,wBACA,aACA,iCACA,2BACA,2BACA,SAAA,EAAA,EAAA,GAEA,MAAA,KAGA,OCVA,kCACA,OACA,kBACA,YACA,WACA,aACA,SAAA,EAAA,EAAA,EAAA,EAAA,GAEA,MAAA,GAAA,KAAA,QACA,UAAA,4BAEA,SAAA,EAAA,wBAEA,QACA,mBAAA,YAGA,aAGA,WAAA,SAAA,GACA,KAAA,OAAA,EAAA,OACA,KAAA,QAAA,GAAA,IAGA,OAAA,WACA,KAAA,MAEA,MAAA,IAAA,KAAA,KAAA,UACA,iBAAA,SAAA,QAAA,IAAA,QAAA,oBAAA,OAIA,SAAA,SAAA,GACA,EAAA,gBACA,IAAA,GAAA,KACA,EAAA,KAAA,eAEA,MAAA,QAAA,OACA,QAAA,cAGA,KAAA,OAAA,EAAA,SAAA,EAAA,GACA,EAAA,QAAA,UACA,EAKA,EAAA,MAAA,EAAA,OAAA,IAAA,EAAA,OAAA,iBAHA,EAAA,aAAA,EAAA,EAAA,KACA,SAAA,KAAA,iBAQA,OAAA,SAAA,EAAA,GACA,EAAA,OACA,KAAA,OACA,IAAA,EAAA,MACA,KAAA,KAAA,WACA,SAAA,EAAA,SACA,SAAA,EAAA,WAEA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,OAEA,MAAA,SAAA,GACA,EAAA,WCnEA,OD0EA,gBCzEA,SACA,WACA,8BACA,SAAA,EAAA,EAAA,GAEA,MAAA,GAAA,OAAA,QACA,QACA,YAAA,iBAGA,WAAA,aAGA,cAAA,SAAA,GACA,EAAA,GAAA,GAEA,KAAA,SACA,KAAA,QAAA,SAGA,KAAA,QAAA,GAAA,IACA,OAAA,IAGA,EAAA,kBAAA,OAAA,KAAA,QAAA,IACA,KAAA,QAAA,cAKA,OAAA,eC9BA,WACA,YACA,SAAA,EAAA,GACA,GAAA,GACA,EAAA,QAAA","sourcesContent":["define('login/templates_compiled',['handlebars'], function(Handlebars) {\n\nthis[\"JST\"] = this[\"JST\"] || {};\n\nthis[\"JST\"][\"login/LoginWorkspace\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); partials = this.merge(partials, Handlebars.partials); data = data || {};\n  var buffer = \"\", stack1, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n<div style=\\\"margin:auto;width: 350px; text-align:center;background: #81ae49;border-radius: 5px;padding: 10px 0;font-size:14px;font-weight: bold;color:white;\\\">\\n    Your account is activated, you can log in now!\\n</div>\\n\";\n  }\n\n  stack1 = helpers['if'].call(depth0, depth0.activateSuccess, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n<div class=\\\"signin-content\\\">\\n    <div class=\\\"signin-logo\\\" style=\\\"margin-bottom: 0;\\\"></div>\\n    <div class=\\\"section-box\\\">\\n        <div class=\\\"section-content\\\">\\n            <div class=\\\"section-row\\\">\\n                <label>Username or Email</label>\\n                <input type=\\\"text\\\" name=\\\"username\\\" tabindex=\\\"1\\\">\\n            </div>\\n            <div class=\\\"section-row\\\">\\n                <label>Password <a href=\\\"password.html\\\">I forgot my password!</a>\\n                </label>\\n                <input type=\\\"password\\\" name=\\\"password\\\" tabindex=\\\"2\\\">\\n            </div>\\n            <div class=\\\"section-row clearfix\\\" style=\\\"height: 35px; line-height: 35px;\\\">\\n                <div class=\\\"styled-checkbox\\\">\\n                    <input type=\\\"checkbox\\\" id=\\\"rem\\\" name=\\\"rem\\\">\\n                    <label for=\\\"rem\\\"></label>\\n                </div>\\n                <div class=\\\"checkbox-label\\\" for=\\\"rem\\\">Remember me</div>\\n\\n                <a href=\\\"#\\\" class=\\\"btn-login lm-button purple right\\\" tabindex=\\\"3\\\">Log in</a>\\n            </div>\\n            <div class=\\\"section-row\\\">\\n                <span>Not a member?</span> <a href=\\\"signup.html\\\" style=\\\"font-size: 16px;\\\">Sign up</a>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  stack1 = self.invokePartial(partials['commons/logicmonitor/foot'], 'commons/logicmonitor/foot', depth0, helpers, partials, data);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n\";\n  return buffer;\n  });\n\nthis[\"JST\"][\"login/partials/placeholder\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  });\n\nthis[\"JST\"][\"login/placeholder\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  });\n\nreturn this[\"JST\"];\n\n});\n","define('login/partials_compiled',['handlebars'], function(Handlebars) {\n\nthis[\"JST\"] = this[\"JST\"] || {};\n\nHandlebars.registerPartial(\"login/placeholder\", Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  }));\n\nreturn this[\"JST\"];\n\n});\n","define('login/templates/main',[\n\t'handlebars',\n\t'commons/logicmonitor/templates',\n\t'login/templates_compiled',\n\t'login/partials_compiled'\n], function (Handlebars, commonTemplates, templates) {\n\t// return compiled templates\n\treturn templates;\n});\n\n","define('login/views/LoginWorkspaceView',[\n\t'core',\n\t'login/templates',\n\t'modelurls',\n\t'lmmsgbox',\n\t'lmblockui'\n], function (LM, templates, modelUrls, MessageBox, BlockUI) {\n\n\treturn LM.View.extend({\n\t\tclassName: 'workspace login-workspace',\n\n\t\ttemplate: templates['login/LoginWorkspace'],\n\n\t\tevents: {\n\t\t\t'click .btn-login': '_onLogin'\n\t\t},\n\n\t\tappEvents: {\n\t\t},\n\n\t\tinitialize: function (options) {\n\t\t\tthis.module = options.module;\n\t\t\tthis.blockUI = new BlockUI();\n\t\t},\n\n\t\trender: function () {\n\t\t\tvar module = this.module;\n\n\t\t\tthis.$el.html(this.template({\n\t\t\t\tactivateSuccess: (location.search || '').indexOf('activate_success') > -1\n\t\t\t}));\n\t\t},\n\n\t\t_onLogin: function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar that = this;\n\t\t\tvar data = this.serializeForm();\n\n\t\t\tthis.blockUI.block({\n\t\t\t\tmessage: 'Log in...'\n\t\t\t});\n\n\t\t\tthis._login(data, function (err, userData) {\n\t\t\t\tthat.blockUI.unBlock();\n\t\t\t\tif (!err) {\n\t\t\t\t\t// Storage the user data in localstorage\n\t\t\t\t\tLM.setLoginUser(userData, data.rem);\n\t\t\t\t\tlocation.href = 'index.html';\n\t\t\t\t} else {\n\t\t\t\t\tMessageBox.alert( err.status + ':' + err.errmsg, 'Log in error');\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\t_login: function (data, cb) {\n\t\t\tLM.rajax({\n\t\t\t\ttype: 'post',\n\t\t\t\turl: modelUrls.login,\n\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\tusername: data.username,\n\t\t\t\t\tpassword: data.password\n\t\t\t\t}),\n\t\t\t\tsuccess: function (response) {\n\t\t\t\t\tcb(null, response.data);\n\t\t\t\t},\n\t\t\t\terror: function (response) {\n\t\t\t\t\tcb(response);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n});\n\n","define('login/router',[\n\t'jquery',\n\t'backbone',\n    './views/LoginWorkspaceView'\n], function ($, Backbone, LoginWorkspaceView) {\n\n\treturn Backbone.Router.extend({\n\t\troutes: {\n\t\t\t'(*module)': 'showWorkspace'\n\t\t},\n\n\t\tinitialize: function () {\n\t\t},\n\n\t\tshowWorkspace: function (module) {\n\t\t\tmodule = module || '';\n\n\t\t\tif (this.appView) {\n\t\t\t\tthis.appView.remove();\n\t\t\t}\n\n\t\t\tthis.appView = new LoginWorkspaceView({\n\t\t\t\tmodule: module\n\t\t\t});\n\n\t\t\t$('.workspace-con').append(this.appView.el);\n\t\t\tthis.appView.render();\n\t\t}\n\t});\n});\n\n","define('login/index',[\n\t'backbone',\n\t'./router'\n], function(Backbone, Router) {\n\tnew Router();\n\tBackbone.history.start();\n});\n\n"]}