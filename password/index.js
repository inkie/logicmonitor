define("password/templates_compiled",["handlebars"],function(e){return this.JST=this.JST||{},this.JST["password/PasswordWorkspace"]=e.template(function(e,s,n,t,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),t=this.merge(t,e.partials),i=i||{};var o,r="",a=this;return r+='<div class="signin-content">\n    <div class="signin-logo"></div>\n    <div class="section-box" style="background: #97d7ef;">\n        <div class="sub-con"></div>\n    </div>\n</div>\n\n',o=a.invokePartial(t["commons/logicmonitor/foot"],"commons/logicmonitor/foot",s,n,t,i),(o||0===o)&&(r+=o),r+="\n\n"}),this.JST["password/ResetPassword"]=e.template(function(e,s,n,t,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="validationEngineContainer">\n<div class="section-row">\n    <label>Enter your new password</label>\n    <input type="password" id="password" name="password" class="validate[required]">\n</div>\n\n<div class="section-row">\n    <label>Re-Enter your new password</label>\n    <input id="re-password" type="password" name="re-password" class="validate[required, equals[password]]">\n</div>\n\n<div class="section-row clearfix" style="height:35px;line-height: 35px;">\n    <a href="#" class="btn-confirm right lm-button purple">Confirm</a>\n</div>\n</div>'}),this.JST["password/SendLink"]=e.template(function(e,s,n,t,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="section-row">\n    <label style="color:black;">Forgotten Password</label>\n    <p>Enter your user name and a link to reset your password will be emailed to you.</p>\n</div>\n\n<div class="section-row">\n    <label>Username or Email:</label>\n    <input type="text" name="username">\n</div>\n\n<div class="section-row clearfix" style="height:35px;line-height: 35px;">\n    <a href="login.html" class="" style="font-size: 16px;">Cancel</a>\n    <a href="#" class="btn-send right lm-button purple">Send</a>\n</div>\n'}),this.JST["password/partials/placeholder"]=e.template(function(e,s,n,t,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o="";return o}),this.JST["password/placeholder"]=e.template(function(e,s,n,t,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o="";return o}),this.JST}),define("password/partials_compiled",["handlebars"],function(e){return this.JST=this.JST||{},e.registerPartial("password/placeholder",e.template(function(e,s,n,t,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o="";return o})),this.JST}),define("password/templates/main",["handlebars","commons/logicmonitor/templates","password/templates_compiled","password/partials_compiled"],function(e,s,n){return n}),define("password/views/SendLinkView",["core","password/templates","modelurls","lmblockui","lmmsgbox"],function(e,s,n,t,i){return e.View.extend({template:s["password/SendLink"],events:{"click .btn-send":"_onSend"},appEvents:{},initialize:function(){this.blockUI=new t},render:function(){this.$el.html(this.template())},_onSend:function(e){e.preventDefault();var s=this,n=this.serializeForm();this.blockUI.block({message:"Sending..."}),this._sendLink(n,function(e){s.blockUI.unBlock(),e?i.alert(e.status+":"+e.errmsg,"Error"):new i({type:"alert",title:"Forgot password",width:600,bodyData:{msg:'<p style="line-height: 1.5">The reset password link has been sent to your registered email.The reset link will only be active for 30 minutes. After reset your password, you can <a href="login.html" style="font-size: 16px;">Go to log in!</a></p>',allowHTML:!0}}).on("dialog:closing",function(){setTimeout(function(){location.href="login.html"},0)})})},_sendLink:function(s,t){e.rajax({type:"post",url:n.forgotpass,data:JSON.stringify({username:s.username}),success:function(e){t(null,e.data)},error:function(e){t(e)}})}})}),define("password/views/ResetPasswordView",["core","password/templates","modelurls","lmblockui","lmmsgbox","jq-validationEngine-en"],function(e,s,n,t,i){return e.View.extend({template:s["password/ResetPassword"],events:{"click .btn-confirm":"_onConfirm"},appEvents:{},initialize:function(){this.blockUI=new t},render:function(){this.$el.html(this.template()),this.$(".validationEngineContainer").validationEngine({})},_onConfirm:function(e){var s=this;if(e.preventDefault(),this.$(".validationEngineContainer").validationEngine("validate")){this.blockUI.block({});var n=this.serializeForm();this._confirm(n,function(e){s.blockUI.unBlock(),e?i.alert(e.status+":"+e.errmsg,"Error"):new i({type:"alert",title:"Password reset",width:600,bodyData:{msg:'<p style="line-height: 1.5">You password has been reset, please <a href="login.html" style="font-size: 16px;">Go to log in!</a></p>',allowHTML:!0}}).on("dialog:closing",function(){setTimeout(function(){location.href="login.html"},0)})})}},_confirm:function(s,t){e.rajax({type:"post",url:n.resetpass+location.search,data:JSON.stringify({password:s.password}),success:function(e){t(null,e.data)},error:function(e){t(e)}})}})}),define("password/views/PasswordWorkspaceView",["core","password/templates","modelurls","lmblockui","lmmsgbox","./SendLinkView","./ResetPasswordView"],function(e,s,n,t,i,o,r){return e.View.extend({className:"workspace password-workspace",template:s["password/PasswordWorkspace"],events:{},appEvents:{},initialize:function(e){this.module=e.module,this.blockUI=new t},render:function(){var e=this.module;this.$el.html(this.template()),"reset"==e?this.registerComponent("sub",new r,".sub-con"):this.registerComponent("sub",new o,".sub-con")}})}),define("password/router",["jquery","backbone","./views/PasswordWorkspaceView"],function(e,s,n){return s.Router.extend({routes:{"(*module)":"showWorkspace"},initialize:function(){},showWorkspace:function(s){s=s||"send",this.appView&&this.appView.remove(),this.appView=new n({module:s}),e(".workspace-con").append(this.appView.el),this.appView.render()}})}),define("password/index",["backbone","./router"],function(e,s){new s,e.history.start()});
//# sourceMappingURL=index.js.map